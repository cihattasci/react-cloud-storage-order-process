{"ast":null,"code":"var _jsxFileName = \"/Users/cihattasci/Desktop/berlin/cloud-storage-order-system/src/routes/SubscriptionPage.js\";\nimport React from 'react';\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\nimport Button from 'react-bootstrap/Button';\nimport PaymentPage from './PaymentPage';\nimport ConfirmationPage from './ConfirmationPage';\nimport SuccessPage from './SuccessPage';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class SubscriptionPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onDurationValueChange = event => {\n      this.setState({\n        selectedDuration: event.target.value\n      });\n\n      for (let index = 0; index < this.state.fetchData.length; index++) {\n        if (this.state.fetchData[index].duration_months == event.target.value) {\n          this.setState({\n            priceUsdPerGb: this.state.fetchData[index].price_usd_per_gb\n          }, () => {\n            this.setState({\n              totalAmount: this.state.selectedDuration * this.state.priceUsdPerGb * this.state.selectedStorage\n            });\n          });\n          return;\n        }\n      }\n    };\n\n    this.onStorageValueChange = event => {\n      this.setState({\n        selectedStorage: event.target.value\n      }, () => {\n        this.setState({\n          totalAmount: this.state.selectedDuration * this.state.priceUsdPerGb * this.state.selectedStorage\n        });\n      });\n    };\n\n    this.onUpfrontValueChange = event => {\n      this.setState({\n        selectedUpFrontPayment: event.target.value\n      });\n    };\n\n    this.handleCardNumberChange = event => {\n      if (event.target.value.length <= 16) {\n        this.setState({\n          cardNumber: event.target.value\n        });\n        return;\n      }\n    };\n\n    this.handleCardExpireChange = event => {\n      var today = new Date();\n      let year = today.getFullYear().toString().substring(2, 5);\n      let month = today.getMonth() + 1;\n\n      if (event.target.value.length <= 5) {\n        let date = event.target.value;\n\n        if (date[0] !== '1' && date[0] !== '0') {\n          date = '';\n        }\n\n        if (date.length === 2) {\n          if (parseInt(date.substring(0, 2)) > 12 || parseInt(date.substring(0, 2)) == 0) {\n            date = date[0];\n          } else if (this.state.cardExpire.length == 1) {\n            date += '/';\n          } else {\n            date = date[0];\n          }\n        }\n\n        if (event.target.value.length == 5 && parseInt(year.substring(0, 2)) >= parseInt(date.substring(3, 5))) {\n          if (month >= parseInt(date.substring(0, 2))) {\n            toast(\"Date must already be a later date!\", {\n              autoClose: 3000\n            });\n            return;\n          }\n        }\n\n        if (event.target.value.length == 5 && parseInt(year.substring(0, 2)) > parseInt(date.substring(3, 5))) {\n          toast(\"Date must already be a later date!\", {\n            autoClose: 3000\n          });\n          return;\n        }\n\n        this.setState({\n          cardExpire: date\n        });\n      }\n    };\n\n    this.handleCardSecureNumberChange = event => {\n      if (event.target.value.length <= 3) {\n        this.setState({\n          cvc: event.target.value\n        });\n        return;\n      }\n    };\n\n    this.goToSubscriptionScreen = () => {\n      this.setState({\n        pageIndex: 1\n      });\n    };\n\n    this.goToPaymentScreen = () => {\n      this.setState({\n        pageIndex: 2\n      });\n    };\n\n    this.goToConfirmationScreen = () => {\n      this.setState({\n        pageIndex: 3\n      });\n    };\n\n    this.goToSuccessScreen = () => {\n      this.setState({\n        pageIndex: 4\n      });\n    };\n\n    this.state = {\n      selectedDuration: 12,\n      priceUsdPerGb: 2,\n      fetchData: [],\n      selectedStorage: 5,\n      selectedUpFrontPayment: 0,\n      totalAmount: null,\n      cardNumber: '',\n      cardExpire: '',\n      cardSecureNumber: '',\n      pageIndex: 1\n    };\n    this.onDurationValueChange = this.onDurationValueChange.bind(this);\n    this.onStorageValueChange = this.onStorageValueChange.bind(this);\n    this.onUpfrontValueChange = this.onUpfrontValueChange.bind(this);\n    this.handleCardNumberChange = this.handleCardNumberChange.bind(this);\n    this.handleCardExpireChange = this.handleCardExpireChange.bind(this);\n    this.handleCardSecureNumberChange = this.handleCardSecureNumberChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      totalAmount: this.state.selectedDuration * this.state.priceUsdPerGb * this.state.selectedStorage\n    });\n    const requestOptions = {\n      method: 'GET'\n    };\n    fetch('https://cloud-storage-prices-moberries.herokuapp.com/prices', requestOptions).then(response => response.json()).then(data => this.setState({\n      fetchData: data.subscription_plans\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.pageIndex == 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n          children: /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            active: true,\n            children: \"Subscription Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flexDirection: 'row',\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginRight: '1rem',\n              marginLeft: '1rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\",\n                color: \"black\"\n              },\n              children: \"Select Your Duration Time: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onDurationValueChange,\n            value: 3,\n            checked: this.state.selectedDuration == 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"3 Months\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 125\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onDurationValueChange,\n            value: 6,\n            checked: this.state.selectedDuration == 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"6 Months\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 125\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onDurationValueChange,\n            value: 12,\n            checked: this.state.selectedDuration == 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"12 Months\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 127\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flexDirection: 'row',\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginRight: '1rem',\n              marginLeft: '1rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\",\n                color: \"black\"\n              },\n              children: \"Select Your Amount of Storage in Cloud: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onStorageValueChange,\n            value: 5,\n            checked: this.state.selectedStorage == 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"5 GB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 123\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onStorageValueChange,\n            value: 10,\n            checked: this.state.selectedStorage == 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"10 GB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 125\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onStorageValueChange,\n            value: 50,\n            checked: this.state.selectedStorage == 50\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"50 GB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 125\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flexDirection: 'row',\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginRight: '1rem',\n              marginLeft: '1rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\",\n                color: \"black\"\n              },\n              children: \"Select Will You Pay Upfront: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onUpfrontValueChange,\n            value: 1,\n            checked: this.state.selectedUpFrontPayment == 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 130\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: this.onUpfrontValueChange,\n            value: 0,\n            checked: this.state.selectedUpFrontPayment == 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: '0.3rem',\n              marginRight: '0.3rem'\n            },\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 130\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            justifyContent: 'space-between',\n            display: 'flex',\n            marginRight: \"2rem\",\n            marginTop: \"2rem\",\n            marginLeft: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flexDirection: 'column',\n              display: \"flex\",\n              justifyContent: \"center\",\n              borderRadius: '5px',\n              borderColor: 'black',\n              backgroundColor: 'gainsboro',\n              padding: '1rem',\n              marginLeft: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\",\n                  color: \"black\"\n                },\n                children: \"Current Subscription:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 18\n              }, this), \"\\xA0\", this.state.selectedDuration, \" Months Subscription\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flexDirection: 'row',\n                display: 'flex'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\",\n                  color: \"black\"\n                },\n                children: \"Total Amount:\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 15\n              }, this), this.state.selectedUpFrontPayment == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"black\"\n                  },\n                  children: [this.state.totalAmount, \"$\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"black\",\n                    textDecorationLine: 'line-through',\n                    textDecorationStyle: 'solid'\n                  },\n                  children: [this.state.totalAmount, \"$\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: \"bold\",\n                    color: \"black\",\n                    fontSize: '1.1rem',\n                    marginLeft: '0.4rem'\n                  },\n                  children: [this.state.totalAmount * 0.9, \"$\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\",\n                  color: \"black\"\n                },\n                children: \"Upfront Payment:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 18\n              }, this), \"\\xA0\", this.state.selectedUpFrontPayment == 1 ? 'Yes' : 'No', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.goToPaymentScreen,\n              variant: \"success\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\",\n                  color: \"white\"\n                },\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 72\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this) : this.state.pageIndex == 2 ? /*#__PURE__*/_jsxDEV(PaymentPage, {\n        duration: this.state.selectedDuration,\n        amount: this.state.totalAmount,\n        isUpfront: this.state.selectedUpFrontPayment,\n        priceUsdPerGb: this.state.priceUsdPerGb,\n        storage: this.state.selectedStorage,\n        cardNumber: this.state.cardNumber,\n        cardExpire: this.state.cardExpire,\n        cvc: this.state.cvc,\n        handleCardNumberChange: this.handleCardNumberChange,\n        handleCardExpireChange: this.handleCardExpireChange,\n        handleCardSecureNumberChange: this.handleCardSecureNumberChange,\n        goToSubscriptionScreen: this.goToSubscriptionScreen,\n        goToConfirmationScreen: this.goToConfirmationScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }, this) : this.state.pageIndex == 3 ? /*#__PURE__*/_jsxDEV(ConfirmationPage, {\n        duration: this.state.selectedDuration,\n        amount: this.state.totalAmount,\n        isUpfront: this.state.selectedUpFrontPayment,\n        priceUsdPerGb: this.state.priceUsdPerGb,\n        storage: this.state.selectedStorage,\n        cardNumber: this.state.cardNumber,\n        cardExpire: this.state.cardExpire,\n        cvc: this.state.cardSecureNumber,\n        goToSubscriptionScreen: this.goToSubscriptionScreen,\n        goToPaymentScreen: this.goToPaymentScreen,\n        goToSuccessScreen: this.goToSuccessScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(SuccessPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/cihattasci/Desktop/berlin/cloud-storage-order-system/src/routes/SubscriptionPage.js"],"names":["React","Breadcrumb","Button","PaymentPage","ConfirmationPage","SuccessPage","toast","SubscriptionPage","Component","constructor","props","onDurationValueChange","event","setState","selectedDuration","target","value","index","state","fetchData","length","duration_months","priceUsdPerGb","price_usd_per_gb","totalAmount","selectedStorage","onStorageValueChange","onUpfrontValueChange","selectedUpFrontPayment","handleCardNumberChange","cardNumber","handleCardExpireChange","today","Date","year","getFullYear","toString","substring","month","getMonth","date","parseInt","cardExpire","autoClose","handleCardSecureNumberChange","cvc","goToSubscriptionScreen","pageIndex","goToPaymentScreen","goToConfirmationScreen","goToSuccessScreen","cardSecureNumber","bind","componentDidMount","requestOptions","method","fetch","then","response","json","data","subscription_plans","render","flexDirection","display","alignItems","marginRight","marginLeft","fontWeight","color","justifyContent","marginTop","borderRadius","borderColor","backgroundColor","padding","textDecorationLine","textDecorationStyle","fontSize"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Breadcrumb from 'react-bootstrap/Breadcrumb';\nimport Button from 'react-bootstrap/Button'\nimport PaymentPage from './PaymentPage';\nimport ConfirmationPage from './ConfirmationPage';\nimport SuccessPage from './SuccessPage';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nexport default class SubscriptionPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedDuration: 12,\n      priceUsdPerGb: 2,\n      fetchData: [],\n      selectedStorage: 5,\n      selectedUpFrontPayment: 0,\n      totalAmount: null,\n      cardNumber: '',\n      cardExpire: '',\n      cardSecureNumber: '',\n      pageIndex: 1,\n    }\n    this.onDurationValueChange = this.onDurationValueChange.bind(this);\n    this.onStorageValueChange = this.onStorageValueChange.bind(this);\n    this.onUpfrontValueChange = this.onUpfrontValueChange.bind(this);\n    this.handleCardNumberChange = this.handleCardNumberChange.bind(this);\n    this.handleCardExpireChange = this.handleCardExpireChange.bind(this);\n    this.handleCardSecureNumberChange = this.handleCardSecureNumberChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({totalAmount: this.state.selectedDuration*this.state.priceUsdPerGb*this.state.selectedStorage})\n    const requestOptions = {\n      method: 'GET',\n    };\n    fetch('https://cloud-storage-prices-moberries.herokuapp.com/prices', requestOptions)\n        .then(response => response.json())\n        .then(data => this.setState({fetchData: data.subscription_plans}));\n  }\n\n  onDurationValueChange = event => {\n      this.setState({\n        selectedDuration: event.target.value,\n      });\n      for (let index = 0; index < this.state.fetchData.length; index++) {\n        if (this.state.fetchData[index].duration_months == event.target.value) {\n          this.setState({priceUsdPerGb: this.state.fetchData[index].price_usd_per_gb}, () => {\n            this.setState({totalAmount: this.state.selectedDuration*this.state.priceUsdPerGb*this.state.selectedStorage})\n          })\n          return\n        }\n      }\n  }\n\n  onStorageValueChange = event => {\n    this.setState({\n      selectedStorage: event.target.value,\n    }, () => {\n      this.setState({totalAmount: this.state.selectedDuration*this.state.priceUsdPerGb*this.state.selectedStorage})\n    });\n  }\n\n  onUpfrontValueChange = event => {\n    this.setState({\n      selectedUpFrontPayment: event.target.value\n    });\n  }\n\n  handleCardNumberChange = event => {\n    if (event.target.value.length <= 16) {\n      this.setState({cardNumber: event.target.value});\n      return\n    }\n  }\n\n  handleCardExpireChange = event => {\n    var today = new Date();\n    let year = today.getFullYear().toString().substring(2, 5);\n    let month = today.getMonth() + 1\n    if (event.target.value.length <= 5) {\n      let date = event.target.value;\n      if (date[0] !== '1' && date[0] !== '0') {\n        date = '';\n      }\n      if (date.length === 2) {\n        if (parseInt(date.substring(0, 2)) > 12 || parseInt(date.substring(0, 2)) == 0) {\n          date = date[0];\n        } else if (this.state.cardExpire.length == 1) {\n          date += '/';\n        } else {\n          date = date[0];\n        }\n      }\n      if(event.target.value.length == 5 && parseInt(year.substring(0, 2)) >= parseInt(date.substring(3, 5))) {\n        if (month >= parseInt(date.substring(0, 2))) {\n          toast(\"Date must already be a later date!\", {\n            autoClose: 3000\n          })\n          return\n        }\n      }\n      if(event.target.value.length == 5 && parseInt(year.substring(0, 2)) > parseInt(date.substring(3, 5))) {\n        toast(\"Date must already be a later date!\", {\n          autoClose: 3000\n        })\n        return\n      }\n      this.setState({cardExpire: date});\n    }\n  }\n\n  handleCardSecureNumberChange = event => {\n    if (event.target.value.length <= 3) {\n      this.setState({cvc: event.target.value});\n      return\n    }\n  }\n\n  goToSubscriptionScreen = () => {\n    this.setState({pageIndex: 1})\n  }\n\n  goToPaymentScreen = () => {\n    this.setState({pageIndex: 2})\n  }\n\n  goToConfirmationScreen = () => {\n    this.setState({pageIndex: 3})\n  }\n\n  goToSuccessScreen = () => {\n    this.setState({pageIndex: 4})\n  }\n\n  render() {\n    return (\n      <div>\n        {\n        this.state.pageIndex == 1 ?\n        <div className=\"App\">\n        <Breadcrumb>\n          <Breadcrumb.Item active>Subscription Options</Breadcrumb.Item>\n        </Breadcrumb>\n        <div style={{flexDirection: 'row', display: 'flex', alignItems: 'center'}}>\n          <div style={{marginRight: '1rem', marginLeft: '1rem'}}>\n            <span style={{fontWeight: \"bold\", color: \"black\"}}>Select Your Duration Time: </span>\n          </div>\n          <input type=\"radio\" onChange={this.onDurationValueChange} value={3} checked={this.state.selectedDuration == 3} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>3 Months</span>\n          <input type=\"radio\" onChange={this.onDurationValueChange} value={6} checked={this.state.selectedDuration == 6} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>6 Months</span>\n          <input type=\"radio\" onChange={this.onDurationValueChange} value={12} checked={this.state.selectedDuration == 12} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>12 Months</span>\n        </div>\n        <hr/>\n        <div style={{flexDirection: 'row', display: 'flex', alignItems: 'center'}}>\n          <div style={{marginRight: '1rem', marginLeft: '1rem'}}>\n            <span style={{fontWeight: \"bold\", color: \"black\"}}>Select Your Amount of Storage in Cloud: </span>\n          </div>\n          <input type=\"radio\" onChange={this.onStorageValueChange} value={5} checked={this.state.selectedStorage == 5} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>5 GB</span>\n          <input type=\"radio\" onChange={this.onStorageValueChange} value={10} checked={this.state.selectedStorage == 10} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>10 GB</span>\n          <input type=\"radio\" onChange={this.onStorageValueChange} value={50} checked={this.state.selectedStorage == 50} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>50 GB</span>\n        </div>\n        <hr/>\n        <div style={{flexDirection: 'row', display: 'flex', alignItems: 'center'}}>\n          <div style={{marginRight: '1rem', marginLeft: '1rem'}}>\n            <span style={{fontWeight: \"bold\", color: \"black\"}}>Select Will You Pay Upfront: </span>\n          </div>\n          <input type=\"radio\" onChange={this.onUpfrontValueChange} value={1} checked={this.state.selectedUpFrontPayment == 1} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>Yes</span>\n          <input type=\"radio\" onChange={this.onUpfrontValueChange} value={0} checked={this.state.selectedUpFrontPayment == 0} /> <span style={{marginLeft: '0.3rem', marginRight: '0.3rem'}}>No</span>\n        </div>\n        <hr/>\n        <div style={{justifyContent: 'space-between', display: 'flex', marginRight: \"2rem\", marginTop: \"2rem\", marginLeft: '1rem'}}>\n          <div style={{flexDirection: 'column', display: \"flex\", justifyContent: \"center\", borderRadius: '5px', borderColor: 'black', backgroundColor: 'gainsboro', padding: '1rem', marginLeft: '1rem'}}>\n            <div><span style={{fontWeight: \"bold\", color: \"black\"}}>Current Subscription:</span> {this.state.selectedDuration} Months Subscription</div>\n            <div style={{flexDirection: 'row', display: 'flex',}}>\n              <span style={{fontWeight: \"bold\", color: \"black\"}}>Total Amount: </span>\n              {\n                this.state.selectedUpFrontPayment == 0 ? \n                  <div><span style={{color: \"black\"}}>{this.state.totalAmount}$</span></div> :\n                  <div>\n                    <span style={{color: \"black\", textDecorationLine: 'line-through', textDecorationStyle: 'solid'}}>{this.state.totalAmount}$</span> \n                    <span style={{fontWeight: \"bold\", color: \"black\", fontSize: '1.1rem', marginLeft: '0.4rem'}}>{this.state.totalAmount * 0.9}$</span>\n                  </div>\n              }\n            </div>\n            <div><span style={{fontWeight: \"bold\", color: \"black\"}}>Upfront Payment:</span> {this.state.selectedUpFrontPayment == 1 ? 'Yes' : 'No'} </div>\n          </div>\n          <div>\n            <Button onClick={this.goToPaymentScreen} variant=\"success\"><span style={{fontWeight: \"bold\", color: \"white\"}}>Next</span></Button>\n          </div>\n        </div>\n      </div> \n      : this.state.pageIndex == 2 ?\n      <PaymentPage\n        duration = {this.state.selectedDuration} \n        amount = {this.state.totalAmount}\n        isUpfront = {this.state.selectedUpFrontPayment}\n        priceUsdPerGb = {this.state.priceUsdPerGb}\n        storage = {this.state.selectedStorage}\n        cardNumber = {this.state.cardNumber}\n        cardExpire = {this.state.cardExpire}\n        cvc = {this.state.cvc}\n        handleCardNumberChange = {this.handleCardNumberChange}\n        handleCardExpireChange = {this.handleCardExpireChange}\n        handleCardSecureNumberChange = {this.handleCardSecureNumberChange}\n        goToSubscriptionScreen = {this.goToSubscriptionScreen}\n        goToConfirmationScreen = {this.goToConfirmationScreen}\n      />\n      : this.state.pageIndex == 3 ?\n      <ConfirmationPage\n        duration = {this.state.selectedDuration} \n        amount = {this.state.totalAmount}\n        isUpfront = {this.state.selectedUpFrontPayment}\n        priceUsdPerGb = {this.state.priceUsdPerGb}\n        storage = {this.state.selectedStorage}\n        cardNumber = {this.state.cardNumber}\n        cardExpire = {this.state.cardExpire}\n        cvc = {this.state.cardSecureNumber}\n        goToSubscriptionScreen = {this.goToSubscriptionScreen}\n        goToPaymentScreen = {this.goToPaymentScreen}\n        goToSuccessScreen = {this.goToSuccessScreen}\n      /> :\n      <SuccessPage />\n      }\n      </div>\n    );\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}